## 問題文

長さ $N$ の数列 $A = (A_1, A_2, \ldots , A_N)$ があります。

この数列に対して、 $Q$ 個のクエリを処理してください。
各クエリでは、文字列 $T$ と整数 $X$ が与えられます。
$T$ に応じて以下の操作を行い、 **その後、数列 $A$ の転倒数を出力してください。**

- `push_front X`: $A$ の先頭に $X$ を追加する。より形式的には、 $A = (A_1, A_2, \ldots , A_N)$ を $A = (X, A_1, A_2, \ldots , A_N)$ で置き換える。
- `push_back X`: $A$ の末尾に $X$ を追加する。より形式的には、 $A = (A_1, A_2, \ldots , A_N)$ を $A = (A_1, A_2, \ldots , A_N, X)$ で置き換える。
- `pop_front X`: $A$ の先頭の数を取り除く。より形式的には、 $A = (A_1, A_2, \ldots , A_N)$ を $A = (A_2, A_3, \ldots , A_N)$ で置き換える。($X$ の値は操作に関わらない)
- `pop_back X`: $A$ の末尾の数を取り除く。より形式的には、 $A = (A_1, A_2, \ldots , A_N)$ を $A = (A_1, A_2, \ldots, A_{N-1})$ で置き換える。($X$ の値は操作に関わらない)

<details><summary>転倒数とは？</summary>

数列 $A = (A_1, A_2, \ldots , A_N)$ の転倒数とは、
$1 \leq i < j \leq N$ かつ $A_i > A_j$ を満たす、整数の組 $(i, j)$ の個数です。

</details>

## 制約

- $2 \leq N \leq 10^5, ~~ N$ は整数
- $-10^6 \leq A_i \leq 10^6, ~~ A_i$ は整数
- $1 \leq Q \leq 10^5, ~~ Q$ は整数
- $T$ は `push_front`, `push_back`, `pop_front`, `pop_back` のいずれか
- $-10^6 \leq X \leq 10^6, ~~ X$ は整数
- $A$ の長さが 2 より小さくなるようなクエリは与えられない

### 部分点
この問題には部分点が設定されている。以下の条件を満たすテストケースにすべて正解したとき、記載された点数が与えられる。
1. (10点) $N \leq 100, ~~ Q \leq 100, ~~ T$ は `push_back`, `pop_back` のどちらか
1. (20点) $N \leq 100, ~~ Q \leq 100$
1. (20点) $N \leq 5000, ~~ Q \leq 100$
1. (50点) 追加の制約はない

## 入力
入力は以下の形式で標準入力から与えられる。

<div class="code-math">

$N$  
$A_1$ &emsp; $A_2$ &emsp; $\ldots$ &emsp; $A_N$  
$Q$  
$T_1$ &emsp; $X_1$  
$T_2$ &emsp; $X_2$  
$\vdots$  
$T_Q$ &emsp; $X_Q$  

</div>

## 出力
$Q$ 行出力せよ。  
$i$ 行目には、 $i$ 番目までのクエリに対して操作を行った数列 $A$ の、転倒数を出力せよ。

## サンプル1
### 入力
```
4
20 24 3 30
3
pop_back 0
pop_back 0
push_back 330
```

### 出力
```
2
0
0
```

はじめ、 $A = (20, 24, 3, 30)$ です。  
`pop_back 0` の後、 $A = (20, 24, 3)$ となり、この数列の転倒数は 2 です。  
続いて `pop_back 0`  の後、 $A = (20, 24)$ となり、この数列の転倒数は 0 です。  
続いて `push_back 330` の後、 $A = (20, 24, 330)$ となり、この数列の転倒数は 0 です。

このサンプルは部分点1の制約を満たします。

## サンプル2
### 入力
```
7
3 1 -4 1 5 -9 -2
4
push_back 0
pop_front 0
push_front 0
pop_back 0
```

### 出力
```
17
13
16
13
```

このサンプルは部分点2の制約を満たします。
